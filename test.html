<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title> è£ç½®ç‹€æ…‹æŸ¥è©¢ </title>
    <script src="/components/webduino-js/dist/webduino-base.min.js"></script>
</head>
    <body>
    <h1> è£ç½®ç‹€æ…‹æŸ¥è©¢ </h1>
    <hr>
    <p id="status">â³ æ­£åœ¨ç­‰å€™ device_id å›æ‡‰... <br></p>
    <script>
        (function () {
        var BoardEvent = webduino.BoardEvent;
        var board = new webduino.WebArduino({
            device: '10QGMYby',
            initialReset: false,
            handleDigitalPins: false,
            multi: true
        });
        var p = document.getElementById('status');
        var warning = setTimeout(function () {
            return setStatus('ğŸ§ é€£ç·šé€¾æ™‚ï¼Œè«‹ç¢ºèª ID æ˜¯å¦ç„¡èª¤ï¼Œæˆ–ç¶²è·¯é€£ç·šæ˜¯å¦æ­£å¸¸<br>');
        }, 5000);

        board.on(BoardEvent.READY, function() {
            setStatus('ğŸ‘ é€£ç·šæˆåŠŸ<br>');
            clearTimeout(warning);
            setTimeout(function() {
            board.send([0xF0, 0x0E, 0x07, 0xF7]);
            }, 0);
        });
        board.on(BoardEvent.ERROR, function() {
            setStatus('ğŸ˜± é€£ç·šç™¼ç”ŸéŒ¯èª¤<br>');
        });
        board.on(webduino.BoardEvent.STRING_MESSAGE,
            function(event) {
            var version = event.message.split(',')[0];
            var state = "âœ… æŸ¥è©¢ç‰ˆæœ¬æˆåŠŸ<br>âœ¨ ç›®å‰ç‰ˆæœ¬ï¼š " + version + "<br>";
            setStatus(state);
            });

        function setStatus(st) {
            p.innerHTML += st;
        }
        })();
    </script>
    </body>
</html>